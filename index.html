
		<link rel='stylesheet' href='https://unpkg.com/leaflet@1.9.3/dist/leaflet.css' integrity='sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=' crossorigin=''/>
		<script src='https://unpkg.com/leaflet@1.9.3/dist/leaflet.js' integrity='sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=' crossorigin=''></script>
		<div id='map' style='width: 100%; height: 95%; font-size: 25px; margin: 0; border-radius: 0px; border: 2px solid #3c546b;'></div>
<div style="margin: 10px 0;">    <input id="searchInput" type="text" placeholder="Rechercher par nom ou ID...">    <button onclick="validateSearch()">Rechercher</button>    <button onclick="resetSearch()">Réinitialiser</button>    <span id="searchResults"></span></div><script>
		window.jsonValues = [["ID","world_region","place_name","alt_name","geo_clue","geometry","type","biblio","Latitude","Longitude"],["0","Tunisie","Aquae Regiae","","","point","foncier + regius","","35.58292","9.718677"],["1","Tunisie","Marazanae (?)","","","point","regius","","35.562026663063236","9.493621929207416"],["2","Tunisie","Mammes","Aïn el-Ghorab","","point","regius","","35.58395610260073","9.716882636560275"],["3","Tunisie","Bulla Regia","","","point","regius","","36.558800741051954","8.753890324119414"],["4","Algérie","Aurès","","","point","foncier","","35.31125173116338","6.643524529948201"],["5","Tunisie","Cap Bon","","","point","foncier","","37.08339474393324","11.038889858107055"],["6","Tunisie","Carthago","","","point","foncier","","36.850806409922974","10.328663013074339"],["7","Algérie","Castellum des Thudedenses","","","point","foncier","","36.57774243266451","2.5430522464753653"],["8","Maroc","Castellum 'au-dessus' de la Mulucha","","","point","foncier + regius","","33.74928579960535","-3.5567503103836797"],["9","Maroc","évêché Regiensis","Césarienne ou Tingitane","","polygone","regius","","34.96011004556995","-4.880508191942379"],["10","Algérie","Cirta","","","point","foncier + regius","","36.36338070322103","6.607072682317123"],["11","Algérie","Monts des Némemcha","","","point","regius","","34.912194315546316","7.087160573117063"],["12","Algérie","Regiae","Arbal","près d'Oran","polygone","regius","","35.45741168966","-0.6189451812869332"],["13","Algérie","Suburbures Regiani","","Ouest de Cirta","polygone","regius","","36.1110044247403","6.944821350826414"],["14","Algérie","Theveste","","","point","regius","","35.406553139541393","8.116803836460225"],["15","Algérie","turris regia","","","point","regius","","36.37221835634062","6.600561205581001"],["16","Algérie","évêché Villaregiensis / Villa Regia","Tubunae/Tobna","","polygone","regius","","35.348951973640396","5.3458467750285035"],["17","Algérie","Thubuna","Tobna","","point","regius","","35.34834749851243","5.351464468388069"],["18","Tunisie","Fundus Villa Magna Variana siue Mappalia Siga","Henchir Mettich","","point","foncier","","36.56587301385348","9.370575903723749"],["19","Algérie","Germaniniciana","","près d'Hippo regius","point","foncier","","36.88338787538468","7.751911269883357"],["20","Tunisie","Grandes Plaines","","","polygon","foncier + regius","","36.45720887929434","8.681208534933639"],["21","Algérie","Hippo (Regius)","","","polygon","foncier + regius","","36.88217983962333","7.749633804536083"],["22","Algérie","Icosium","","","point","foncier","","36.77649477807229","3.05852517226429"],["23","Tunisie","Mactar","","","point","foncier","","35.85532181583911","9.208245798625953"],["24","Tunisie","Medjerda","","","polygon","foncier","","37.00611361053785","10.057685042503348"],["25","Algérie","Medracen","","","point","foncier","","35.707103","6.434614"],["26","Algérie","Lacus regius","Sebkhet Djenndli","","point","regius","https://journals.openedition.org/encyclopedieberbere/551?lang=fr","35.70221328595271","6.492804765968611"],["27","Tunisie","oued Siliana","","","polygon","foncier","","36.36277136874833","9.399142883589917"],["28","Tunisie","oued Tessa","","","polygon","foncier","","36.36086295733698","9.000347962130416"],["29","Algérie","Rusicade","","","point","foncier","","36.86213536495874","6.9054114683460215"],["30","Tunisie","saltus Blandianus","","","polygon","foncier","","36.44254531604506","9.195318517494009"],["31","Tunisie","saltus Lamianus","","","polygon","foncier","","36.605963","9.24277"],["32","Tunisie","Sicca","","","point","foncier","","36.17382658344858","8.704080058583148"],["33","Algérie","Siga","","","point","foncier","","36.272140","6.725088"],["34","Tunisie","Smitthus","","","point","foncier","","36.49184915169899","8.574790540353776"],["35","Algérie","Statio Liviana","","","point","foncier","","35.5005498","6.4844060"],["36","Algérie","Suthul","","","point","foncier + regius","","36.46684958609205","7.433337110788435"],["37","Tunisie","Thala","","","point","foncier + regius","","35.575759170222625","8.6699447911646"],["38","Tunisie","Thelepte","","","point","foncier","","34.966660130622884","8.584326158547299"],["39","Tunisie","Musunii Regiani","","","polygone","regius","","35.05036865796037","8.69649236122013"],["40","Tunisie","Thibaris","","","point","foncier","","36.50594041556087","9.082147040986573"],["41","Tunisie","Thimida Bure","Kouchbatia","","point","regius","","36.491980212945656","9.155462665586747"],["42","Tunisie","Thimida Regia","La Mohammedia (?)","","point","foncier + regius","","36.64092032076405","10.14192979819157"],["43","Tunisie","Thuburnica","","","point","foncier","","36.52840618562201","8.466808287613928"],["44","Tunisie","Thugga","","","point","foncier","","36.420154","9.220169"],["45","Tunisie","Thusca","","","polygon","foncier","","35.9223989","9.2434078"],["46","Tunisie","Iulbaltiana","","","point","regius","","35.69375275496812","10.09208976433831"],["47","Tunisie","Thysdrus","","","point","foncier","","35.299991203369366","10.716717293299878"],["48","Algérie","Timgad","","","point","foncier","","35.48726976368534","6.467676502830097"],["49","Algérie","Tipasa","","","point","foncier","","36.59410844333932","2.443390206032822"],["50","Algérie","Iol","Cherchell","","point","foncier","","36.60768055416968","2.1905412037127863"],["51","Tunisie","Utique","","","point","foncier","","37.059456","10.063029"],["52","Tunisie","Vehi Maius","","","point","foncier","","36.412427069336914","9.085188528076321"],["53","Tunisie","Vthina","","","point","foncier","","36.610426042303494","10.1692145628974"],["54","Tunisie","Zama","","","point","foncier + regius","","36.11186690594038","9.285526022409872"],["55","Tunisie","Gunzuzi","","","point","regius","","36.23536387944727","9.577427117747202"],["56","Tunisie","Muxsi","","","point","regius","","37.07835318414909","9.577109193676772"],["57","Tunisie","Zeugei","","","point","regius","","36.68378365092393","10.073339166975588"]];
		markersJsonGlobal = [{"customMarkerIcon":"assets/css/images/foncier_et_regius.png"},{"customMarkerIcon":"assets/css/images/regius.png"},{"customMarkerIcon":"assets/css/images/regius.png"},{"customMarkerIcon":"assets/css/images/regius.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/foncier_et_regius.png"},{"customMarkerIcon":"assets/css/images/regius.png"},{"customMarkerIcon":"assets/css/images/foncier_et_regius.png"},{"customMarkerIcon":"assets/css/images/regius.png"},{"customMarkerIcon":"assets/css/images/regius.png"},{"customMarkerIcon":"assets/css/images/regius.png"},{"customMarkerIcon":"assets/css/images/regius.png"},{"customMarkerIcon":"assets/css/images/regius.png"},{"customMarkerIcon":"assets/css/images/regius.png"},{"customMarkerIcon":"assets/css/images/regius.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/foncier_et_regius.png"},{"customMarkerIcon":"assets/css/images/foncier_et_regius.png"},{"customMarkerIcon":"assets/css/images/foncier_et_regius.png"},{"customMarkerIcon":"assets/css/images/regius.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/regius.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/foncier_et_regius.png"},{"customMarkerIcon":"assets/css/images/foncier_et_regius.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/regius.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/regius.png"},{"customMarkerIcon":"assets/css/images/foncier_et_regius.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/regius.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/foncier.png"},{"customMarkerIcon":"assets/css/images/foncier_et_regius.png"},{"customMarkerIcon":"assets/css/images/regius.png"},{"customMarkerIcon":"assets/css/images/regius.png"},{"customMarkerIcon":"assets/css/images/regius.png"}];

		isUsingDefaultMarkers = markersJsonGlobal !== null ? false : true;

		isUsingCustomIcon = true;

		isUsingLabelsForMarkers = [true,2];

		markers = [];

		var map = L.map('map').setView([34.26082803261224,3.8914141426658437], 7);

		var iPointsArray = [["35.58292","9.718677","ID = 0</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Aquae Regiae</br>GEOMETRY = point</br>TYPE = foncier + regius</br>LATITUDE = 35.58292</br>LONGITUDE = 9.718677"],["35.562026663063236","9.493621929207416","ID = 1</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Marazanae (?)</br>GEOMETRY = point</br>TYPE = regius</br>LATITUDE = 35.562026663063236</br>LONGITUDE = 9.493621929207416"],["35.58395610260073","9.716882636560275","ID = 2</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Mammes</br>ALT_NAME = Aïn el-Ghorab</br>GEOMETRY = point</br>TYPE = regius</br>LATITUDE = 35.58395610260073</br>LONGITUDE = 9.716882636560275"],["36.558800741051954","8.753890324119414","ID = 3</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Bulla Regia</br>GEOMETRY = point</br>TYPE = regius</br>LATITUDE = 36.558800741051954</br>LONGITUDE = 8.753890324119414"],["35.31125173116338","6.643524529948201","ID = 4</br>WORLD_REGION = Algérie</br>PLACE_NAME = Aurès</br>GEOMETRY = point</br>TYPE = foncier</br>LATITUDE = 35.31125173116338</br>LONGITUDE = 6.643524529948201"],["37.08339474393324","11.038889858107055","ID = 5</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Cap Bon</br>GEOMETRY = point</br>TYPE = foncier</br>LATITUDE = 37.08339474393324</br>LONGITUDE = 11.038889858107055"],["36.850806409922974","10.328663013074339","ID = 6</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Carthago</br>GEOMETRY = point</br>TYPE = foncier</br>LATITUDE = 36.850806409922974</br>LONGITUDE = 10.328663013074339"],["36.57774243266451","2.5430522464753653","ID = 7</br>WORLD_REGION = Algérie</br>PLACE_NAME = Castellum des Thudedenses</br>GEOMETRY = point</br>TYPE = foncier</br>LATITUDE = 36.57774243266451</br>LONGITUDE = 2.5430522464753653"],["33.74928579960535","-3.5567503103836797","ID = 8</br>WORLD_REGION = Maroc</br>PLACE_NAME = Castellum 'au-dessus' de la Mulucha</br>GEOMETRY = point</br>TYPE = foncier + regius</br>LATITUDE = 33.74928579960535</br>LONGITUDE = -3.5567503103836797"],["34.96011004556995","-4.880508191942379","ID = 9</br>WORLD_REGION = Maroc</br>PLACE_NAME = évêché Regiensis</br>ALT_NAME = Césarienne ou Tingitane</br>GEOMETRY = polygone</br>TYPE = regius</br>LATITUDE = 34.96011004556995</br>LONGITUDE = -4.880508191942379"],["36.36338070322103","6.607072682317123","ID = 10</br>WORLD_REGION = Algérie</br>PLACE_NAME = Cirta</br>GEOMETRY = point</br>TYPE = foncier + regius</br>LATITUDE = 36.36338070322103</br>LONGITUDE = 6.607072682317123"],["34.912194315546316","7.087160573117063","ID = 11</br>WORLD_REGION = Algérie</br>PLACE_NAME = Monts des Némemcha</br>GEOMETRY = point</br>TYPE = regius</br>LATITUDE = 34.912194315546316</br>LONGITUDE = 7.087160573117063"],["35.45741168966","-0.6189451812869332","ID = 12</br>WORLD_REGION = Algérie</br>PLACE_NAME = Regiae</br>ALT_NAME = Arbal</br>GEO_CLUE = près d'Oran</br>GEOMETRY = polygone</br>TYPE = regius</br>LATITUDE = 35.45741168966</br>LONGITUDE = -0.6189451812869332"],["36.1110044247403","6.944821350826414","ID = 13</br>WORLD_REGION = Algérie</br>PLACE_NAME = Suburbures Regiani</br>GEO_CLUE = Ouest de Cirta</br>GEOMETRY = polygone</br>TYPE = regius</br>LATITUDE = 36.1110044247403</br>LONGITUDE = 6.944821350826414"],["35.406553139541393","8.116803836460225","ID = 14</br>WORLD_REGION = Algérie</br>PLACE_NAME = Theveste</br>GEOMETRY = point</br>TYPE = regius</br>LATITUDE = 35.406553139541393</br>LONGITUDE = 8.116803836460225"],["36.37221835634062","6.600561205581001","ID = 15</br>WORLD_REGION = Algérie</br>PLACE_NAME = turris regia</br>GEOMETRY = point</br>TYPE = regius</br>LATITUDE = 36.37221835634062</br>LONGITUDE = 6.600561205581001"],["35.348951973640396","5.3458467750285035","ID = 16</br>WORLD_REGION = Algérie</br>PLACE_NAME = évêché Villaregiensis / Villa Regia</br>ALT_NAME = Tubunae/Tobna</br>GEOMETRY = polygone</br>TYPE = regius</br>LATITUDE = 35.348951973640396</br>LONGITUDE = 5.3458467750285035"],["35.34834749851243","5.351464468388069","ID = 17</br>WORLD_REGION = Algérie</br>PLACE_NAME = Thubuna</br>ALT_NAME = Tobna</br>GEOMETRY = point</br>TYPE = regius</br>LATITUDE = 35.34834749851243</br>LONGITUDE = 5.351464468388069"],["36.56587301385348","9.370575903723749","ID = 18</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Fundus Villa Magna Variana siue Mappalia Siga</br>ALT_NAME = Henchir Mettich</br>GEOMETRY = point</br>TYPE = foncier</br>LATITUDE = 36.56587301385348</br>LONGITUDE = 9.370575903723749"],["36.88338787538468","7.751911269883357","ID = 19</br>WORLD_REGION = Algérie</br>PLACE_NAME = Germaniniciana</br>GEO_CLUE = près d'Hippo regius</br>GEOMETRY = point</br>TYPE = foncier</br>LATITUDE = 36.88338787538468</br>LONGITUDE = 7.751911269883357"],["36.45720887929434","8.681208534933639","ID = 20</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Grandes Plaines</br>GEOMETRY = polygon</br>TYPE = foncier + regius</br>LATITUDE = 36.45720887929434</br>LONGITUDE = 8.681208534933639"],["36.88217983962333","7.749633804536083","ID = 21</br>WORLD_REGION = Algérie</br>PLACE_NAME = Hippo (Regius)</br>GEOMETRY = polygon</br>TYPE = foncier + regius</br>LATITUDE = 36.88217983962333</br>LONGITUDE = 7.749633804536083"],["36.77649477807229","3.05852517226429","ID = 22</br>WORLD_REGION = Algérie</br>PLACE_NAME = Icosium</br>GEOMETRY = point</br>TYPE = foncier</br>LATITUDE = 36.77649477807229</br>LONGITUDE = 3.05852517226429"],["35.85532181583911","9.208245798625953","ID = 23</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Mactar</br>GEOMETRY = point</br>TYPE = foncier</br>LATITUDE = 35.85532181583911</br>LONGITUDE = 9.208245798625953"],["37.00611361053785","10.057685042503348","ID = 24</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Medjerda</br>GEOMETRY = polygon</br>TYPE = foncier</br>LATITUDE = 37.00611361053785</br>LONGITUDE = 10.057685042503348"],["35.707103","6.434614","ID = 25</br>WORLD_REGION = Algérie</br>PLACE_NAME = Medracen</br>GEOMETRY = point</br>TYPE = foncier</br>LATITUDE = 35.707103</br>LONGITUDE = 6.434614"],["35.70221328595271","6.492804765968611","ID = 26</br>WORLD_REGION = Algérie</br>PLACE_NAME = Lacus regius</br>ALT_NAME = Sebkhet Djenndli</br>GEOMETRY = point</br>TYPE = regius</br>BIBLIO = <a href=\"https://journals.openedition.org/encyclopedieberbere/551?lang=fr\" target=\"_blank\">journals.openedition.org/encyclopedieberbere/551?lang=fr</a></br>LATITUDE = 35.70221328595271</br>LONGITUDE = 6.492804765968611"],["36.36277136874833","9.399142883589917","ID = 27</br>WORLD_REGION = Tunisie</br>PLACE_NAME = oued Siliana</br>GEOMETRY = polygon</br>TYPE = foncier</br>LATITUDE = 36.36277136874833</br>LONGITUDE = 9.399142883589917"],["36.36086295733698","9.000347962130416","ID = 28</br>WORLD_REGION = Tunisie</br>PLACE_NAME = oued Tessa</br>GEOMETRY = polygon</br>TYPE = foncier</br>LATITUDE = 36.36086295733698</br>LONGITUDE = 9.000347962130416"],["36.86213536495874","6.9054114683460215","ID = 29</br>WORLD_REGION = Algérie</br>PLACE_NAME = Rusicade</br>GEOMETRY = point</br>TYPE = foncier</br>LATITUDE = 36.86213536495874</br>LONGITUDE = 6.9054114683460215"],["36.44254531604506","9.195318517494009","ID = 30</br>WORLD_REGION = Tunisie</br>PLACE_NAME = saltus Blandianus</br>GEOMETRY = polygon</br>TYPE = foncier</br>LATITUDE = 36.44254531604506</br>LONGITUDE = 9.195318517494009"],["36.605963","9.24277","ID = 31</br>WORLD_REGION = Tunisie</br>PLACE_NAME = saltus Lamianus</br>GEOMETRY = polygon</br>TYPE = foncier</br>LATITUDE = 36.605963</br>LONGITUDE = 9.24277"],["36.17382658344858","8.704080058583148","ID = 32</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Sicca</br>GEOMETRY = point</br>TYPE = foncier</br>LATITUDE = 36.17382658344858</br>LONGITUDE = 8.704080058583148"],["36.272140","6.725088","ID = 33</br>WORLD_REGION = Algérie</br>PLACE_NAME = Siga</br>GEOMETRY = point</br>TYPE = foncier</br>LATITUDE = 36.272140</br>LONGITUDE = 6.725088"],["36.49184915169899","8.574790540353776","ID = 34</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Smitthus</br>GEOMETRY = point</br>TYPE = foncier</br>LATITUDE = 36.49184915169899</br>LONGITUDE = 8.574790540353776"],["35.5005498","6.4844060","ID = 35</br>WORLD_REGION = Algérie</br>PLACE_NAME = Statio Liviana</br>GEOMETRY = point</br>TYPE = foncier</br>LATITUDE = 35.5005498</br>LONGITUDE = 6.4844060"],["36.46684958609205","7.433337110788435","ID = 36</br>WORLD_REGION = Algérie</br>PLACE_NAME = Suthul</br>GEOMETRY = point</br>TYPE = foncier + regius</br>LATITUDE = 36.46684958609205</br>LONGITUDE = 7.433337110788435"],["35.575759170222625","8.6699447911646","ID = 37</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Thala</br>GEOMETRY = point</br>TYPE = foncier + regius</br>LATITUDE = 35.575759170222625</br>LONGITUDE = 8.6699447911646"],["34.966660130622884","8.584326158547299","ID = 38</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Thelepte</br>GEOMETRY = point</br>TYPE = foncier</br>LATITUDE = 34.966660130622884</br>LONGITUDE = 8.584326158547299"],["35.05036865796037","8.69649236122013","ID = 39</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Musunii Regiani</br>GEOMETRY = polygone</br>TYPE = regius</br>LATITUDE = 35.05036865796037</br>LONGITUDE = 8.69649236122013"],["36.50594041556087","9.082147040986573","ID = 40</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Thibaris</br>GEOMETRY = point</br>TYPE = foncier</br>LATITUDE = 36.50594041556087</br>LONGITUDE = 9.082147040986573"],["36.491980212945656","9.155462665586747","ID = 41</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Thimida Bure</br>ALT_NAME = Kouchbatia</br>GEOMETRY = point</br>TYPE = regius</br>LATITUDE = 36.491980212945656</br>LONGITUDE = 9.155462665586747"],["36.64092032076405","10.14192979819157","ID = 42</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Thimida Regia</br>ALT_NAME = La Mohammedia (?)</br>GEOMETRY = point</br>TYPE = foncier + regius</br>LATITUDE = 36.64092032076405</br>LONGITUDE = 10.14192979819157"],["36.52840618562201","8.466808287613928","ID = 43</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Thuburnica</br>GEOMETRY = point</br>TYPE = foncier</br>LATITUDE = 36.52840618562201</br>LONGITUDE = 8.466808287613928"],["36.420154","9.220169","ID = 44</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Thugga</br>GEOMETRY = point</br>TYPE = foncier</br>LATITUDE = 36.420154</br>LONGITUDE = 9.220169"],["35.9223989","9.2434078","ID = 45</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Thusca</br>GEOMETRY = polygon</br>TYPE = foncier</br>LATITUDE = 35.9223989</br>LONGITUDE = 9.2434078"],["35.69375275496812","10.09208976433831","ID = 46</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Iulbaltiana</br>GEOMETRY = point</br>TYPE = regius</br>LATITUDE = 35.69375275496812</br>LONGITUDE = 10.09208976433831"],["35.299991203369366","10.716717293299878","ID = 47</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Thysdrus</br>GEOMETRY = point</br>TYPE = foncier</br>LATITUDE = 35.299991203369366</br>LONGITUDE = 10.716717293299878"],["35.48726976368534","6.467676502830097","ID = 48</br>WORLD_REGION = Algérie</br>PLACE_NAME = Timgad</br>GEOMETRY = point</br>TYPE = foncier</br>LATITUDE = 35.48726976368534</br>LONGITUDE = 6.467676502830097"],["36.59410844333932","2.443390206032822","ID = 49</br>WORLD_REGION = Algérie</br>PLACE_NAME = Tipasa</br>GEOMETRY = point</br>TYPE = foncier</br>LATITUDE = 36.59410844333932</br>LONGITUDE = 2.443390206032822"],["36.60768055416968","2.1905412037127863","ID = 50</br>WORLD_REGION = Algérie</br>PLACE_NAME = Iol</br>ALT_NAME = Cherchell</br>GEOMETRY = point</br>TYPE = foncier</br>LATITUDE = 36.60768055416968</br>LONGITUDE = 2.1905412037127863"],["37.059456","10.063029","ID = 51</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Utique</br>GEOMETRY = point</br>TYPE = foncier</br>LATITUDE = 37.059456</br>LONGITUDE = 10.063029"],["36.412427069336914","9.085188528076321","ID = 52</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Vehi Maius</br>GEOMETRY = point</br>TYPE = foncier</br>LATITUDE = 36.412427069336914</br>LONGITUDE = 9.085188528076321"],["36.610426042303494","10.1692145628974","ID = 53</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Vthina</br>GEOMETRY = point</br>TYPE = foncier</br>LATITUDE = 36.610426042303494</br>LONGITUDE = 10.1692145628974"],["36.11186690594038","9.285526022409872","ID = 54</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Zama</br>GEOMETRY = point</br>TYPE = foncier + regius</br>LATITUDE = 36.11186690594038</br>LONGITUDE = 9.285526022409872"],["36.23536387944727","9.577427117747202","ID = 55</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Gunzuzi</br>GEOMETRY = point</br>TYPE = regius</br>LATITUDE = 36.23536387944727</br>LONGITUDE = 9.577427117747202"],["37.07835318414909","9.577109193676772","ID = 56</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Muxsi</br>GEOMETRY = point</br>TYPE = regius</br>LATITUDE = 37.07835318414909</br>LONGITUDE = 9.577109193676772"],["36.68378365092393","10.073339166975588","ID = 57</br>WORLD_REGION = Tunisie</br>PLACE_NAME = Zeugei</br>GEOMETRY = point</br>TYPE = regius</br>LATITUDE = 36.68378365092393</br>LONGITUDE = 10.073339166975588"]];

		new L.tileLayer('https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png', {
		attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> <a href="https://github.com/zanniadevweb/cms_r-lite-web-gis">- Customized by Alexandre Zanni</a>',
		maxNativeZoom:19,
		maxZoom: 19,
		noWrap: true
		}).addTo(map);
		L.control.scale().addTo(map);

		fillPolygons(["([35.040545624860655, 8.583729861334845], [35.09002693013859, 8.616696162949179], [35.02029462927618, 8.88317376766478],  [34.970771077885225, 8.84746027424928]).color('#FF0000').tooltip(\"Musunii Regiani\")","([35.77977805585362,9.050504101493805],[35.8233096624063,9.223295554563613],[35.82665100809128,9.300216924996981],[35.8143987195748,9.363402336424405],[35.81885431601799,9.430708535553617],[35.832219604966774,9.476037200273273],[35.841128547153026,9.54059620760128],[35.872524602137794,9.633176604836514],[35.88254199774158,9.705977187568093],[35.99487252353836,9.748558660486585],[36.04820134023323,9.858446332534285],[35.87029834220139,10.017783457003391],[35.70359687782023,10.115033946160441],[35.64801054141057,10.091100279168453],[35.54971929509653,9.732591749112878],[35.50611981205062,9.492212466508581],[35.599550179205174,9.14606629955837],[35.69220221142829,9.074639312727411]).color('#0000FF').tooltip(\"Gamonia\")","([36.973401486268976,8.835043809261625],[36.811968335304805,8.818563361160098],[36.76248179913255,8.851524257363115],[36.754781021371755,8.954527057997433],[36.802073585000215,9.168772883316898],[36.800974089371685,9.291002873402993],[36.73387501345752,9.310230062854728],[36.671857090296406,9.311298314556625],[36.57597962031319,9.325032021307866],[36.493230955613704,9.322285279957617],[36.34762414143665,9.244308438096512],[36.17120579794959,9.309162146448424],[36.09912160532716,9.343496413326502],[36.02129214792581,9.371878236163514],[36.03128686739051,9.444666881945105],[35.979078245142674,9.533935975828225],[35.97574460628572,9.595737656208827],[36.10454272279018,9.680886638066555],[36.217622059618144,9.759168766548642],[36.25638619336657,9.878652015284489],[36.257493457595814,10.010495600096474],[36.20100297630182,9.991268410644697],[36.07902191177118,9.989895039969594],[35.96699325004289,9.99013166709069],[35.886934823463996,9.995625149791184],[35.61948868471028,9.93794358143598],[35.36458359102387,9.9242098746847],[35.08640171396237,9.998371891141435],[34.86136788696068,10.27853950886685],[34.59277330863574,10.621882177648008],[34.82530513537327,10.902049795373426],[35.24131416432567,11.132776068794376],[35.38249803962288,11.033893380185408],[35.6462737286212,11.042133604236152],[35.82238438937915,10.63561588439925],[36.05979898109831,10.487596970459023],[36.36336469948377,10.531544832063032],[36.453983677690225,10.803472225737705],[36.85936027934991,11.113853998315847],[37.07001257883322,11.086386584813367],[37.05467222203909,10.90510165569692],[36.88133041489813,10.608453589870017],[36.70539251312352,10.435408884804312],[36.77361639770315,10.292578334591337],[36.857162918295394,10.363993609697825],[36.991086277043955,10.207429352733609],[37.13353243169839,10.201935870033115],[37.24311778062143,10.041731867143243],[37.35016769748693,9.753324025367085],[37.225266061306826,9.239979223657377]).color('#008000').tooltip(\"Fossa Regia (?)\")","([36.6052563143485,10.17887343869878],[36.747322769002295,10.513975883429197],[36.6966935097859,10.634832502840146],[36.52805624670607,10.285996351358492]).color('#ff0000').tooltip(\"Domaine des descendants de Massinisa (?)\")","([36.750001895695505,10.513009025972977],[36.77035354072058,10.549403348863796],[36.85829846684012,10.58236424506677],[36.880818087774834,10.61601182660734],[36.88246560427063,10.697040696439673],[37.008669347009395,10.90518271728824],[37.04813361894236,10.904496031950686],[37.05690067233302,10.976597992394728],[37.080632436667884,11.046888298709773],[37.044473125555434,11.075729082887397],[36.91997549116667,10.921224881935878],[36.699707324341944,10.635315999306691]).color('#ff0000').tooltip(\"Domaine de Hiempsal (?)\")","([36.10912988446878,9.246886110193843],[36.13356993444651,9.25907929509164],[36.13966925378875,9.299593730007809],[36.12636103672793,9.322941031484936],[36.10251150446063,9.325001087497633],[36.087532515303806,9.30440052737075],[36.08864216796445,9.26594614846728]).color('#ff0000').tooltip(\"Domaine de Iulius Massinissa (Ismuc) (?)\")","([35.640607,11.031167],[35.235963,11.136003],[34.817085,10.901636],[34.24861266148712,10.077794353895491],[34.01674559147491,10.033846492291483],[33.679182367205385,10.34148152351942],[33.73401290837474,10.720531829853803],[33.893735210508254,10.951258103274714],[33.76141504943397,11.072114722685706],[33.6014458797995,11.059907281391766],[33.20252172564265,11.34007489911718],[32.78330250146915,12.636536816434832],[32.915243216082004,13.242136897732253],[32.66821817417845,14.263924680024946],[32.37567801600626,15.207582893322156],[31.5924229500195,15.503693902348068],[31.320672654022825,16.02008127619493],[31.18920109909928,16.986934231482664],[30.8597230888096,18.107604702384325],[30.273292239894317,18.23944828719631],[30.519646321200053,16.51449471923981],[30.888008674358808,14.91039777069426],[31.713985701874087,14.80052811668426],[32.29155098017978,13.33926171835169],[32.263688165014536,12.570174140281893],[32.52340783212989,11.05397291494432],[33.34395943506102,9.88935458243865],[34.16593700473694,9.66961527441873],[35.825866, 10.63878]).color('#FFD700').tooltip(\"Emporia (?)\")","([35.557433557600014,9.423592376162905],[35.6065707069241,9.45655327236588],[35.61103622531263,9.543075624898751],[35.579772362977,9.58702348650272],[35.531736232894666,9.5526892196246],[35.53061877112452,9.474407091142512]).color('#ff0000').tooltip(\"Marazanenses regii (?)\")","([35.38486738701638,6.501392886388966],[35.43522896808807,6.6195027644496705],[35.426278098323614,6.787053986814878],[35.369192922243535,6.877696451373102],[35.275082219497804,6.898297011499982],[35.20218332227238,6.817268141667606],[35.18647344710413,6.6620772553785335],[35.241444716562235,6.49864614503872],[35.32887317723139,6.479418955586983]).color('#ff0000').tooltip(\"Mazices Reg(iani) Montens(es) (?)\")","([36.13420395296006,6.902273031787872],[36.113684747269396,6.96338802683092],[36.139748763515904,7.023129651198823],[36.19295900458675,7.044416896663256],[36.22730474968502,7.003902461747088],[36.230627731432946,6.961327970818224],[36.22121224975931,6.916006738539112],[36.2062559198763,6.888539325036632],[36.18409313974837,6.879612415648336],[36.16358698360424,6.885792583686384]).color('#ff0000').tooltip(\"Suburbures Regiani (Aïn el-Bordj = Tigisi  - Ain Abid = Bir Fradj) (?)\")"]);

		for (var iPoints = 0; iPoints < iPointsArray.length; iPoints++) {
			createPoint(iPointsArray[iPoints][0],iPointsArray[iPoints][1],iPointsArray[iPoints][2], iPoints);
		}

		function fillPolygons(polygonLinesForHtmlExport) {
			if (polygonLinesForHtmlExport !== '') {
				if (polygonLinesForHtmlExport.includes('|')) {
					fillPolygonsLoop(polygonLinesForHtmlExport.split('|'));
				} else {
					fillPolygonsLoop(polygonLinesForHtmlExport);
				}
			}
		}

		function fillPolygonsLoop(polygonLinesFromFile) {
			var currPolyPointValues = '';
			var currPolyPointValSeparated = [];
			var currPolyPointValue = '';
			var currPolyPointValuesAsArray = [];
			var currPolyPointsColor = '';
			var currPolyPointsTooltip = '';
			for (var ipolygonLinesFromFile = 0; ipolygonLinesFromFile < polygonLinesFromFile.length; ipolygonLinesFromFile++) {
				if (polygonLinesFromFile[ipolygonLinesFromFile] !== '') {
					currPolyPointValues = polygonLinesFromFile[ipolygonLinesFromFile].split('.color')[0].replace('(','').replace(')','');
					currPolyPointsColor = polygonLinesFromFile[ipolygonLinesFromFile].split('.color(')[1].split(')')[0].replaceAll('\'','');
					currPolyPointsTooltip = polygonLinesFromFile[ipolygonLinesFromFile].split('.tooltip(')[1].replaceAll('"','').slice(0,-1);

					currPolyPointValSeparated = currPolyPointValues.split(']');
					for (var icurrPolyPointValues = 0; icurrPolyPointValues < currPolyPointValSeparated.length; icurrPolyPointValues++) {
						if ( currPolyPointValSeparated[icurrPolyPointValues] !== '') {
							currPolyPointValue = currPolyPointValSeparated[icurrPolyPointValues].split('[')[1];
							currPolyPointValuesAsArray.push(currPolyPointValue.replace(' ', '').split(','));
						}
					}
					createPolygon([currPolyPointValuesAsArray], currPolyPointsColor, currPolyPointsTooltip);
					currPolyPointValuesAsArray = [];
					currPolyPointsColor = '';
					currPolyPointsTooltip = '';
				}
			}
		}

		function createPolygon(polyPointsValues, polyPointsColor, polyPointsTooltip) {
			new L.polygon(polyPointsValues).setStyle({fillColor: polyPointsColor, color: polyPointsColor}).addTo(map).bindTooltip(polyPointsTooltip, {permanent: false, direction:"center"});
		}

		function createPoint(latitude, longitude, label, markerId) {
			if (isUsingCustomIcon === true && markersJsonGlobal !== null && markersJsonGlobal[markerId] !== undefined && markersJsonGlobal[markerId].customMarkerIcon) {
				var customMarkerIcon = L.icon({
					iconUrl: markersJsonGlobal[markerId].customMarkerIcon,
					// shadowUrl: 'leaf-shadow.png',
				
					iconSize:     [20, 30], // size of the icon
					// shadowSize:   [50, 64], // size of the shadow
					// iconAnchor:   [22, 94], // point of the icon which will correspond to marker's location
					// shadowAnchor: [4, 62],  // the same for the shadow
					// popupAnchor:  [-3, -76] // point from which the popup should open relative to the iconAnchor
				});
				var paramCustomMarkerIcon = {icon: customMarkerIcon};
				markers[markerId] = new L.marker([latitude,longitude], paramCustomMarkerIcon).bindPopup(label + '</br>').addTo(map);
			} else if (markersJsonGlobal !== null && markersJsonGlobal[markerId] !== undefined && markersJsonGlobal[markerId].fillColor) {
				var paramCustomMarkerIcon = {  
					fillColor: markersJsonGlobal[markerId].fillColor, // '#3CC1F1'
					fillOpacity: markersJsonGlobal[markerId].fillOpacity, // 1.0
					color: markersJsonGlobal[markerId].borderColor, // black
					weight: markersJsonGlobal[markerId].borderWeight,  // 0.2
					radius: markersJsonGlobal[markerId].circleRadius, // 2000
					stroke: markersJsonGlobal[markerId].hasBorder     // true,
				}
				markers[markerId] = new L.circle([latitude,longitude], paramCustomMarkerIcon).bindPopup(label + '</br>').addTo(map);
			} else {
				var customMarkerIcon = ""
				markers[markerId] = new L.marker([latitude,longitude], paramCustomMarkerIcon).bindPopup(label + '</br>').addTo(map);
			}
			if (isUsingLabelsForMarkers[0] && isUsingLabelsForMarkers[1]) {
				var labelText = '';
				labelText = window.jsonValues[Number(markerId) + 1][isUsingLabelsForMarkers[1]] || '';
				if (labelText) {
					markers[markerId].bindTooltip(labelText, {
						permanent: true,
						direction: 'right',
						offset: [8, 0],
						className: 'marker-label'
					});
				}
			(function insertMarkerLabelStyle(){
			if (document.getElementById('marker-label-style')) return;
                var css = [
                  ".leaflet-tooltip.marker-label, .marker-label {",
                  "  background: transparent !important;",
                  "  border: none !important;",
                  "  box-shadow: none !important;",
                  "  color: #000 !important;",
                  "  font-weight: 700 !important;",
                  "  padding: 0 6px !important;",
                  "  white-space: nowrap;",
                  "  pointer-events: none;",
                  "  font-size: 13px;",
                  "  line-height: 1;",
                  "  text-shadow: none !important;",
                  "}",
                  ".leaflet-tooltip.marker-label::before, .marker-label::before {",
                  "  display: none !important;",
                  "}"
                ].join('\n');
				var style = document.createElement('style');
				style.id = 'marker-label-style';
				style.type = 'text/css';
				style.appendChild(document.createTextNode(css));
				document.head.appendChild(style);
			})();
			}
		}

		function validateSearch() {
            const query = document.getElementById('searchInput').value.trim().toLowerCase();
            if (!query) {
                alert("Veuillez saisir un terme de recherche");
                return;
            }
            markers.forEach(marker => map.removeLayer(marker));
            const results = markers.filter(marker => {
                const popupContent = marker.getPopup()?.getContent()?.toLowerCase() || "";
                return popupContent.includes(query);
            });
            results.forEach(marker => marker.addTo(map));
            if (results.length === 0) {
                document.getElementById('searchResults').textContent = "Aucun résultat trouvé";
                return;
            }
            map.fitBounds(L.featureGroup(results).getBounds());
            document.getElementById('searchResults').textContent = `${results.length} résultat(s) trouvé(s)`;
        }

        function resetSearch() {
            document.getElementById('searchInput').value = '';
            document.getElementById('searchResults').textContent = '';
            markers.forEach(marker => marker.addTo(map));
        }
	</script>